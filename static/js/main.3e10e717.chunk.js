(this.webpackJsonptecnologia_portocarrero=this.webpackJsonptecnologia_portocarrero||[]).push([[0],{54:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},87:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){},97:function(e,t,c){},99:function(e,t,c){"use strict";c.r(t);var a=c(3),s=c.n(a),n=c(26),r=c.n(n),i=(c(54),c(55),c(56),c(57),c(13)),l=(c(58),c(19)),o=c(39),j=c(14),d=c(2),b=Object(a.createContext)(),m=function(e){var t=e.children,c=Object(a.useState)([]),s=Object(j.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)(""),m=Object(j.a)(i,2),u=m[0],O=m[1];Object(a.useEffect)((function(){console.log(n)}),[n]);var h=function(e){return n.some((function(t){return t.id===e}))};return Object(d.jsx)(b.Provider,{value:{cart:n,message:u,setMessage:O,setCart:r,addToCart:function(e,t){if(h(t.id)){var c=Object(o.a)(n);c.forEach((function(c){c.id===t.id&&(console.log(c.stock),c.qty+e<=t.stock?(c.qty+=e,console.log("los productos no superaron a los del stock")):(c.qty=parseInt(t.stock),O("\xa1Llev\xe1s como m\xe1ximo ".concat(t.stock," de este producto!")),console.log(c)))})),r(c),console.log(c)}else r([].concat(Object(o.a)(n),[Object(l.a)(Object(l.a)({},t),{},{qty:e})]))},getSize:function(){return n.reduce((function(e,t){return e+t.qty}),0)},removeFromCart:function(e){var t=n.filter((function(t){return t.id!==e}));r(t)},getTotalPrice:function(){return n.reduce((function(e,t){return e+t.qty*t.price}),0)},getSubtotal:function(e){return e.qty*e.price},removeItems:function(){return r([])}},children:t})},u=function(){var e=Object(a.useContext)(b).cart;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"cartWidgetContainer",children:[Object(d.jsx)(i.b,{to:"/cart",children:Object(d.jsx)("img",{className:"cartWidgetContainer_img",src:"https://firebasestorage.googleapis.com/v0/b/coderhouse-bijouterie.appspot.com/o/agregar.png?alt=media&token=83258dc7-2c0b-4834-9fd7-e0d21f68d10c"})}),Object(d.jsx)("div",{className:"modal",children:e.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("table",{className:"infoContainerTable",children:[Object(d.jsx)("td",{className:"infoTable",children:"Producto"}),Object(d.jsx)("td",{className:"infoTable",children:"Cantidad"})]}),e.map((function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{children:Object(d.jsxs)("table",{children:[Object(d.jsx)("td",{className:"infoTable",children:e.name}),Object(d.jsx)("td",{className:"infoTable",children:e.qty})]})},e.id)})}))]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("p",{className:"infoNoProducts",children:"A\xfan no hay productos"})})})]})})},O=c(104),h=["anillos","aros","collares"],x=function(){var e=Object(a.useContext)(b).getSize;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"header",children:[Object(d.jsxs)("div",{className:"header_1",children:[Object(d.jsxs)(i.b,{to:"/",className:"header_title1",children:[Object(d.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/coderhouse-bijouterie.appspot.com/o/estrella.png?alt=media&token=5777fd32-95a8-40b9-9278-e83c69e2214a",className:"header_logo"}),Object(d.jsx)("img",{src:"https://ar.todomoda.com/media/wysiwyg/logo_negro_new3.jpg"})]}),Object(d.jsx)(u,{}),Object(d.jsxs)("p",{className:"header_select",children:["(",e(),")"]})]}),Object(d.jsx)("div",{className:"header_dropdown",children:Object(d.jsxs)(O.a,{children:[Object(d.jsx)(O.a.Toggle,{variant:"light",id:"dropdown-basic",children:"Categorias"}),Object(d.jsx)(O.a.Menu,{children:h.map((function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{children:Object(d.jsx)(O.a.Item,{children:Object(d.jsx)(i.b,{to:"/category/".concat(e),className:"header_categories",children:e})})},e.id)})}))})]})})]})})},p=(c(65),c(12)),f=(c(66),function(e){var t=e.product;return Object(d.jsx)("div",{className:"card",children:Object(d.jsx)("div",{className:"card_item",children:Object(d.jsxs)(i.b,{to:"/item/".concat(t.id),children:[Object(d.jsx)("img",{className:"card_image",src:t.image}),Object(d.jsx)("h2",{className:"card_name",children:t.name}),Object(d.jsxs)("p",{className:"card_price",children:["ARS$",t.price]})]})})})}),g=(c(67),function(e){var t=e.products;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"itemList",children:t.map((function(e){return Object(d.jsx)(f,{product:e},e.id)}))})})}),N=(c(68),function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"detailContainer",children:[Object(d.jsx)("img",{src:"https://ar.todomoda.com/media/wysiwyg/TODOMODA/banners-estaticas/success.jpg"}),Object(d.jsx)("h2",{children:"Pagina no encontrada"})]}),Object(d.jsxs)("div",{className:"detailContainer_mensaje",children:[Object(d.jsx)("div",{children:Object(d.jsx)("p",{className:"detailContainer_parrafo",children:"Para buscar lo que quer\xe9s, pod\xe9s navegar a nuestro men\xfa principal."})}),Object(d.jsx)("div",{className:"detailContainer_btn",children:Object(d.jsx)("button",{children:Object(d.jsx)(i.b,{to:"/",children:Object(d.jsx)("p",{className:"detailContainer_btnSon",children:"Ir al inicio"})})})})]})]})}),v=c(47),_=c.n(v),T=(c(87),function(){return Object(d.jsx)("div",{className:"loaderContainer",children:Object(d.jsx)(_.a,{type:"ThreeDots",color:"#e0c2de",height:80,width:80})})}),C=c(38),y=C.a.initializeApp({apiKey:"AIzaSyAuwDqlH1QbyDri3MDtvVkkkMNrKdWkyJY",authDomain:"coderhouse-bijouterie.firebaseapp.com",projectId:"coderhouse-bijouterie",storageBucket:"coderhouse-bijouterie.appspot.com",messagingSenderId:"981025051227",appId:"1:981025051227:web:1a244db9909946441b657e"}),S=function(){return C.a.firestore(y)},k=function(){var e=Object(p.g)().categoryId,t=Object(a.useState)([]),c=Object(j.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),o=i[0],b=i[1],m=Object(a.useState)(!1),u=Object(j.a)(m,2),O=u[0],h=u[1];return Object(a.useEffect)((function(){b(!0),h(!1);var t=S().collection("items");(e?t.where("categoryId","==",e):t).get().then((function(e){0===e.size&&(console.log("No hay resultados"),h(!0)),console.log(e.docs.map((function(e){return Object(l.a)({id:e.id},e.data())}))),n(e.docs.map((function(e){return Object(l.a)({id:e.id},e.data())})))})).catch((function(e){console.log("error buscando items",e)})).finally((function(){return b(!1)}))}),[e]),O?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(N,{})}):Object(d.jsx)(d.Fragment,{children:o?Object(d.jsx)(T,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"category-image",children:Object(d.jsx)("p",{children:e&&"_".concat(e)||"Bijou"})}),Object(d.jsx)(g,{products:s})]})})},F=(c(93),function(e){var t=e.stock,c=e.initial,s=e.onAdd,n=Object(a.useState)(c),r=Object(j.a)(n,2),i=r[0],l=r[1];return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"carHorizonal",children:[Object(d.jsx)("p",{className:"carText",children:"CANTIDAD:"}),Object(d.jsx)("p",{className:"carCount",children:i}),Object(d.jsxs)("div",{className:"carContainer",children:[Object(d.jsx)("button",{className:"carBtns",onClick:function(){i<t&&l(i+1)},disabled:i>=t,children:"+"}),Object(d.jsx)("button",{className:"carBtns",onClick:function(){i>0&&l(i-1)},disabled:i<=c,children:"-"})]})]}),Object(d.jsx)("button",{className:"carBtnAgregar",onClick:function(){return s(i)},children:"Comprar"})]})}),D=(c(94),function(e){var t=e.product,c=Object(a.useState)(!1),s=Object(j.a)(c,2),n=s[0],r=s[1],i=Object(p.f)(),l=Object(a.useContext)(b),o=l.addToCart,m=l.message;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"cardDetail",children:[Object(d.jsx)("div",{className:"cardDetail_1",children:Object(d.jsx)("img",{className:"cardDetail_img",src:t.image})}),Object(d.jsxs)("div",{className:"cardDetail_info",children:[Object(d.jsx)("h2",{className:"cardDetail_name",children:t.name}),Object(d.jsxs)("p",{className:"cardDetail_price",children:["ARS$",t.price]}),Object(d.jsxs)("p",{className:"cardDetail_id",children:["N\xba Art\xedculo: ",t.id]}),Object(d.jsx)("p",{className:"cardDetail_description",children:t.description}),m&&Object(d.jsx)("p",{className:"cardDetail_message",children:m}),n?Object(d.jsx)("button",{onClick:function(){return i.push("/cart")},className:"cardDetail_btn",children:"Ir al carrito"}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(F,{stock:t.stock,initial:1,onAdd:function(e){console.log(e),r(!0),o(e,t)}})})]})]})})}),I=function(){var e=Object(a.useState)({}),t=Object(j.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!0),r=Object(j.a)(n,2),i=r[0],o=r[1],m=Object(a.useContext)(b).setMessage,u=Object(p.g)().itemId;return Object(a.useEffect)((function(){o(!0),m(""),S().collection("items").doc(u).get().then((function(e){if(!e.exists)return console.log("El item no existe"),void s(!1);console.log("El item si existe"),s(Object(l.a)({id:e.id},e.data()))})).catch((function(e){console.log("error buscando el item",e)})).finally((function(){return o(!1)}))}),[u]),c?Object(d.jsx)(d.Fragment,{children:i?Object(d.jsx)(T,{}):Object(d.jsx)(D,{product:c})}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(N,{})})},P=(c(95),function(){var e=Object(a.useContext)(b),t=e.cart,c=e.removeFromCart,s=e.getTotalPrice,n=e.getSubtotal,r=e.removeItems;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"titleOne",children:"Mi compra"}),Object(d.jsx)("div",{className:"cart",children:t.length>0?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{children:Object(d.jsxs)("table",{children:[Object(d.jsxs)("tr",{className:"cartTable",children:[Object(d.jsx)("th",{className:"cartTableTitleName",children:"PRODUCTO"}),Object(d.jsx)("td",{className:"cartTableTitleName",children:"PRECIO"}),Object(d.jsx)("td",{className:"cartTableTitleName",children:"CANTIDAD"}),Object(d.jsx)("td",{className:"cartTableTitleName",children:"SUBTOTAL"})]}),t.map((function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:Object(d.jsx)(i.b,{className:"cartTableInfo",to:"/item/".concat(e.id),children:e.name})}),Object(d.jsxs)("td",{className:"cartTableInfo",children:["ARS$",e.price]}),Object(d.jsx)("td",{className:"cartTableInfo",children:e.qty}),Object(d.jsxs)("td",{className:"cartTableInfo",children:["ARS$",n(e)]}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{className:"cartTableBtn",onClick:function(){return c(e.id)},children:"X"})})]},e.id)})}))]})}),Object(d.jsxs)("div",{className:"cart_recibo",children:[Object(d.jsxs)("div",{className:"cart_info",children:[Object(d.jsx)("p",{className:"cart_nameRecibo",children:"Resumen de compra"}),Object(d.jsxs)("div",{className:"cart_totalForPay",children:[Object(d.jsx)("p",{children:"Total:"}),Object(d.jsxs)("p",{children:["ARS$ ",s()]})]})]}),Object(d.jsxs)("div",{className:"cart_final",children:[Object(d.jsx)(i.b,{to:"/checkout",className:"cart_btnFinalMargins",children:Object(d.jsx)("button",{className:"cart_btnfinal",children:"Finalizar compra"})}),Object(d.jsx)("button",{className:"cart_btnDelete",onClick:function(){return r()},children:"Eliminar Productos"})]})]})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"cart_noProductsTitle",children:"El carrito de compras est\xe1 vac\xedo"}),Object(d.jsx)("p",{className:"cart_noProductsSubtitle",children:"Usted no tiene art\xedculos en su carrito de compra."}),Object(d.jsxs)("p",{className:"cart_noProductsSubtitle",children:["Click"," ",Object(d.jsx)(i.b,{to:"/",className:"cart_noProductsLink",children:"aqu\xed"})," ","para continuar comprando"]})]})})})]})}),A=c(37),E=c.n(A),w=c(48),q=c(27),R=(c(97),c(98),c(49)),B=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),r=Object(j.a)(n,2),o=r[0],m=r[1],u=Object(a.useState)(!1),O=Object(j.a)(u,2),h=O[0],x=O[1],p=Object(a.useContext)(b),f=p.cart,g=p.removeItems,N=p.getTotalPrice,v=p.getSubtotal,_=Object(a.useState)({name:"",email:"",email2:"",phone:""}),C=Object(j.a)(_,2),y=C[0],k=C[1],F=Object(a.useState)(""),D=Object(j.a)(F,2),I=D[0],P=D[1];function A(e,t){var c=t.target.value,a=Object(l.a)(Object(l.a)({},y),{},Object(q.a)({},e,c));k(a)}var B=function(){var e=Object(w.a)(E.a.mark((function e(){var t,c,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0),t=S(),c=t.collection("orders"),a={buyer:Object(l.a)({},y),items:f,date:R.a.firestore.Timestamp.fromDate(new Date),total:N()},c.add(a).then((function(e){var t=e.id;s(t)})).catch((function(e){console.log("error buscando la informaci\xf3n del comprador",e)})).finally((function(){m(!1),g()}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o?Object(d.jsx)(T,{}):h?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"form_bienEnviado",children:[Object(d.jsx)(i.b,{to:"/",children:Object(d.jsx)("p",{className:"form_link",children:"Volv\xe9 a la Home"})}),Object(d.jsx)("p",{className:"form_correcto",children:I}),Object(d.jsxs)("p",{className:"form_orden",children:["Tu orden de compra es: ",c]})]})}):Object(d.jsx)(d.Fragment,{children:f.length>0&&!c?Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)("p",{className:"checkout_titulo",children:"\xa1Ultimo paso: complet\xe1 con tus datos!"}),Object(d.jsxs)("div",{className:"checkout",children:[Object(d.jsxs)("form",{className:"form",children:[Object(d.jsxs)("label",{className:"form_label",children:["Nombre:",Object(d.jsx)("input",{className:"form_input",type:"text",placeholder:"Nombre y Apellido",onChange:function(e){A("name",e)}})]}),Object(d.jsxs)("label",{className:"form_label",children:["Email:",Object(d.jsx)("input",{className:"form_input",type:"text",placeholder:"Email",onChange:function(e){A("email",e)}})]}),Object(d.jsxs)("label",{className:"form_label",children:["Confirma tu email:",Object(d.jsx)("input",{className:"form_input",type:"text",placeholder:"Repet\xed tu Email",onChange:function(e){A("email2",e)}})]}),Object(d.jsxs)("label",{className:"form_label",children:["Tel\xe9fono:",Object(d.jsx)("input",{className:"form_input",type:"text",placeholder:"Tel\xe9fono",onChange:function(e){A("phone",e)}})]}),I&&Object(d.jsx)("p",{className:"form_error",children:I}),Object(d.jsx)("input",{className:"form_btn",type:"submit",value:"realizar compra",onClick:function(e){return function(e){e.preventDefault(),y.email==y.email2?(console.log("el email introducido ha sido confirmado"),B(),P("Listo: tu pedido ha sido enviado con \xe9xito"),x(!0)):P("Error: los mails no coinciden")}(e)},disabled:[y.name,y.email,y.email2,y.phone].includes("")})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("table",{className:"cartTableFather",children:[Object(d.jsxs)("tr",{className:"cartTable",children:[Object(d.jsx)("th",{className:"cartTableTitleName",children:"PRODUCTO"}),Object(d.jsx)("td",{className:"cartTableTitleName",children:"PRECIO"}),Object(d.jsx)("td",{className:"cartTableTitleName",children:"CANTIDAD"}),Object(d.jsx)("td",{className:"cartTableTitleName",children:"SUBTOTAL"})]}),f.map((function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:e.name}),Object(d.jsxs)("td",{className:"cartTableInfo",children:["ARS$",e.price]}),Object(d.jsx)("td",{className:"cartTableInfo",children:e.qty}),Object(d.jsxs)("td",{className:"cartTableInfo",children:["ARS$",v(e)]})]},e.id)})}))]}),Object(d.jsxs)("p",{className:"checkout_totalPrice",children:["Total: $",N()]})]})]})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"cart_noProductsMargin",children:[Object(d.jsx)("h2",{className:"cart_noProductsTitle",children:"El carrito de compras est\xe1 vac\xedo"}),Object(d.jsx)("p",{className:"cart_noProductsSubtitle",children:"Usted no tiene art\xedculos en su carrito de compra."}),Object(d.jsxs)("p",{className:"cart_noProductsSubtitle",children:["Click"," ",Object(d.jsx)(i.b,{to:"/",className:"cart_noProductsLink",children:"aqu\xed"})," ","para continuar comprando"]})]})})})};var M=function(){return Object(d.jsx)(i.a,{children:Object(d.jsxs)(m,{children:[Object(d.jsx)(x,{}),Object(d.jsxs)(p.c,{children:[Object(d.jsx)(p.a,{exact:!0,path:"/",children:Object(d.jsx)(k,{})}),Object(d.jsx)(p.a,{path:"/category/:categoryId",children:Object(d.jsx)(k,{})}),Object(d.jsx)(p.a,{path:"/item/:itemId",children:Object(d.jsx)(I,{})}),Object(d.jsx)(p.a,{path:"/cart",children:Object(d.jsx)(P,{})}),Object(d.jsx)(p.a,{path:"/checkout",children:Object(d.jsx)(B,{})}),Object(d.jsx)(p.a,{path:"*",children:Object(d.jsx)(N,{})})]})]})})},L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,105)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(M,{})}),document.getElementById("root")),L()}},[[99,1,2]]]);
//# sourceMappingURL=main.3e10e717.chunk.js.map